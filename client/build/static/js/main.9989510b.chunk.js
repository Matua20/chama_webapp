(this["webpackJsonpchama-webapp"]=this["webpackJsonpchama-webapp"]||[]).push([[0],{39:function(e,t,r){},40:function(e,t,r){"use strict";r.r(t);var s=r(2),a=r(14),c=r.n(a),n=r(3),i=r.n(n),l=r(0);var j=()=>{const[e,t]=Object(s.useState)({idNumber:"",phoneNumber:"",firstName:"",lastName:""}),r=r=>{t({...e,[r.target.name]:r.target.value})};return Object(l.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await i.a.post("/api/register",e);console.log("User registered:",t.data)}catch(r){console.error("Error registering user:",r)}},className:"registration-form",children:[Object(l.jsxs)("label",{children:["ID Number:",Object(l.jsx)("input",{type:"text",name:"idNumber",value:e.idNumber,onChange:r,required:!0})]}),Object(l.jsxs)("label",{children:["Phone Number:",Object(l.jsx)("input",{type:"text",name:"phoneNumber",value:e.phoneNumber,onChange:r,required:!0})]}),Object(l.jsxs)("label",{children:["First Name:",Object(l.jsx)("input",{type:"text",name:"firstName",value:e.firstName,onChange:r,required:!0})]}),Object(l.jsxs)("label",{children:["Last Name:",Object(l.jsx)("input",{type:"text",name:"lastName",value:e.lastName,onChange:r,required:!0})]}),Object(l.jsx)("button",{type:"submit",children:"Register"})]})};var o=e=>{let{userId:t}=e;const[r,a]=Object(s.useState)(null);Object(s.useEffect)((()=>{i.a.get("/api/users/".concat(t)).then((e=>a(e.data))).catch((e=>console.error(e)))}),[t]);return r?Object(l.jsxs)("div",{className:"dashboard",children:[Object(l.jsxs)("h3",{children:["Welcome, ",r.firstName," ",r.lastName]}),Object(l.jsxs)("p",{children:["Level: ",r.level]}),Object(l.jsx)("h4",{children:"Referrals:"}),Object(l.jsx)("ul",{children:r.referrals.map((e=>Object(l.jsxs)("li",{children:[e.firstName," ",e.lastName," - ",e.phoneNumber]},e._id)))}),Object(l.jsx)("h4",{children:"Gifted Users:"}),Object(l.jsx)("ul",{children:r.giftedUsers.map((e=>Object(l.jsxs)("li",{children:[e.firstName," ",e.lastName," - ",e.phoneNumber]},e._id)))}),Object(l.jsx)("h4",{children:"Received Gifts:"}),Object(l.jsx)("ul",{children:r.gifts.map((e=>Object(l.jsxs)("li",{children:["Amount: ",e.amount," - Date: ",new Date(e.date).toLocaleDateString(),!e.confirmed&&Object(l.jsx)("button",{onClick:()=>(async e=>{try{const r=await i.a.post("/api/users/".concat(t,"/confirm-gift"),{giftId:e});a(r.data)}catch(r){console.error("Error confirming gift:",r)}})(e._id),children:"Confirm Receipt"})]},e._id)))})]}):Object(l.jsx)("div",{children:"Loading..."})};r(39);var b=()=>{const[e,t]=Object(s.useState)(null);return Object(l.jsx)("div",{className:"app",children:e?Object(l.jsx)(o,{userId:e}):Object(l.jsx)(j,{onRegister:t})})};c.a.render(Object(l.jsx)(b,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.9989510b.chunk.js.map